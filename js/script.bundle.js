!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=9)}([,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function t(){var e;(e=document.getElementsByClassName("page active")[0])&&e.classList.remove("active"),(e=document.querySelector(location.hash+"-page"))&&e.classList.add("active")}e.switchTo=function(e){location.hash=e},window.addEventListener("hashchange",t),t()}(t.Page||(t.Page={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),i=n.GRID_DRCT.DRCT_F,a=n.GRID_DRCT.DRCT_B,s=n.GRID_DRCT.DRCT_R,o=n.GRID_DRCT.DRCT_L,c=n.GRID_DRCT.DRCT_FR,u=n.GRID_DRCT.DRCT_FL,l=n.GRID_DRCT.DRCT_BR,f=n.GRID_DRCT.DRCT_BL,h=n.GRID_DRCT.DRCT_2F,d=n.GRID_DRCT.DRCT_2B,R=n.GRID_DRCT.DRCT_2R,p=n.GRID_DRCT.DRCT_2L,_=n.GRID_DRCT.DRCT_2FR,v=n.GRID_DRCT.DRCT_2FL,y=n.GRID_DRCT.DRCT_2BR,g=n.GRID_DRCT.DRCT_2BL,T=n.GRID_DRCT.DRCT_FFR,C=n.GRID_DRCT.DRCT_FFL,D=n.GRID_DRCT.DRCT_BBR,m=n.GRID_DRCT.DRCT_BBL,b=n.GRID_DRCT.DRCT_FRR,G=n.GRID_DRCT.DRCT_FLL,w=n.GRID_DRCT.DRCT_BRR,L=n.GRID_DRCT.DRCT_BLL,B=[i,a,s,o,c,u,l,f],E=[[h,i],[d,a],[R,s],[p,o],[_,c],[v,u],[y,l],[g,f]],S=[[T,h,i],[T,c,i],[T,c,s],[C,h,i],[C,u,i],[C,u,o],[D,d,a],[D,l,a],[D,l,s],[m,d,a],[m,f,a],[m,f,o],[b,c,i],[b,R,s],[b,c,s],[G,u,i],[G,p,o],[G,u,o],[w,l,a],[w,R,s],[w,l,s],[L,f,a],[L,p,o],[L,f,o]];t.BY_NORMAL_RELATI=0,t.BY_COMMON_RELATI=1,t.RelatiRouteRule={allow:function(e,r,n,i){switch(i){case t.BY_COMMON_RELATI:for(var a=0;a<24;a++){var s=e.getGrid(S[a][0]),o=e.getGrid(S[a][1]),c=e.getGrid(S[a][2]);if(s&&s.symbol==r&&s.is(n,"any")&&o.isSpace&&c.isSpace)return!0}for(a=0;a<8;a++){s=e.getGrid(E[a][0]);var u=e.getGrid(E[a][1]);if(s&&s.symbol==r&&s.is(n,"any")&&u.isSpace)return!0}case t.BY_NORMAL_RELATI:for(a=0;a<8;a++){if((s=e.getGrid(B[a]))&&s.symbol==r&&s.is(n,"any"))return!0}}return!1},trace:function(e,r,n,i){var a=[];switch(i){case t.BY_COMMON_RELATI:for(var s=0;s<24;s++){var o=e.getGrid(S[s][0]),c=e.getGrid(S[s][1]),u=e.getGrid(S[s][2]);o&&o.symbol==r&&o.is(n,"any")&&c.isSpace&&u.isSpace&&a.push({type:"remote-stable",grids:[o,c,u]})}for(s=0;s<8;s++){o=e.getGrid(E[s][0]);var l=e.getGrid(E[s][1]);o&&o.symbol==r&&o.is(n,"any")&&l.isSpace&&a.push({type:"remote-normal",grids:[o,l]})}case t.BY_NORMAL_RELATI:for(s=0;s<8;s++){(o=e.getGrid(B[s]))&&o.symbol==r&&o.is(n,"any")&&a.push({type:"normal",grids:[o]})}}return a}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t;function r(){e.view.className="none"}function n(e){t&&t(e),t=null,r()}e.view=document.getElementById("message-box"),e.messageContent=document.getElementById("message-content"),e.acceptButton=document.getElementById("message-accept"),e.rejectButton=document.getElementById("message-reject"),e.verifyButton=document.getElementById("message-verify"),e.show=function(r,n,i){e.view.className=r,e.messageContent.innerText=n,e.messageContent.style.display=n?"":"none",t=i},e.hide=r,e.response=n,e.acceptButton.addEventListener("click",function(e){return n("accept")}),e.rejectButton.addEventListener("click",function(e){return n("reject")}),e.verifyButton.addEventListener("click",function(e){return n("verify")})}(t.MessageBox||(t.MessageBox={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),i=["relati-repeater"];t.PlacementRule={allow:function(e,t,r){return e.isSpace&&n.RelatiRouteRule.allow(e,t,i,r)},trace:function(e,r,n){for(var i=[],a=0,s=e.board.grids;a<s.length;a++){var o=s[a];t.PlacementRule.allow(o,r,n||e.routeType)&&i.push(o)}return i}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DRCT_C=0]="DRCT_C",e[e.DRCT_F=4096]="DRCT_F",e[e.DRCT_B=256]="DRCT_B",e[e.DRCT_R=16]="DRCT_R",e[e.DRCT_L=1]="DRCT_L",e[e.DRCT_FR=4112]="DRCT_FR",e[e.DRCT_FL=4097]="DRCT_FL",e[e.DRCT_BR=272]="DRCT_BR",e[e.DRCT_BL=257]="DRCT_BL",e[e.DRCT_2F=8192]="DRCT_2F",e[e.DRCT_2B=512]="DRCT_2B",e[e.DRCT_2R=32]="DRCT_2R",e[e.DRCT_2L=2]="DRCT_2L",e[e.DRCT_2FR=8224]="DRCT_2FR",e[e.DRCT_2FL=8194]="DRCT_2FL",e[e.DRCT_2BR=544]="DRCT_2BR",e[e.DRCT_2BL=514]="DRCT_2BL",e[e.DRCT_FFR=8208]="DRCT_FFR",e[e.DRCT_FFL=8193]="DRCT_FFL",e[e.DRCT_BBR=528]="DRCT_BBR",e[e.DRCT_BBL=513]="DRCT_BBL",e[e.DRCT_FRR=4128]="DRCT_FRR",e[e.DRCT_FLL=4098]="DRCT_FLL",e[e.DRCT_BRR=288]="DRCT_BRR",e[e.DRCT_BLL=258]="DRCT_BLL"}(t.GRID_DRCT||(t.GRID_DRCT={}));var n=function(){function e(e,t,r){this.board=e,this.x=t,this.y=r,this.i=t*e.height+r}return e.prototype.getGrid=function(e){var t=(61440&e)>>12,r=(3840&e)>>8,n=(240&e)>>4,i=15&e,a=this.x+n-i,s=this.y+r-t;return this.board.getGrid(a,s)},e}();t.Grid=n;var i=function(){function e(e,t){this.width=e,this.height=t;var r=[];this.grids=r,this.length=e*t;for(var i=0;i<e;i++)for(var a=0;a<t;a++){var s=new n(this,i,a);r[s.i]=s}}return e.prototype.getGrid=function(e,t){if(e<0||e>=this.width||t<0||t>=this.height)return null;var r=e*this.height+t;return this.grids[r]},e}();t.GridBoard=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="http://www.w3.org/2000/svg";function i(e,t){for(var r in t)e.setAttribute(r,t[r])}t.createSVG=function(e,t){var r=document.createElementNS(n,e);return t&&i(r,t),r},t.updateSVG=i,t.appendSVGChild=function(e,t){for(var r=0,n=t;r<n.length;r++){var i=n[r];e.appendChild(i)}},t.removeSVGChild=function(e){for(var t=e.childNodes.length;t-- >0;)e.removeChild(e.childNodes[0])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=r(5);r(10),r(11),r(21),location.hash||n.Page.switchTo("main"),window.MessageBox=i.MessageBox},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=document.getElementById("main-to-game"),a=document.getElementById("main-to-help");i.addEventListener("click",function(e){return n.Page.switchTo("game")}),a.addEventListener("click",function(e){return n.Page.switchTo("help")})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=r(12),a=r(15),s=r(16),o=r(4),c=r(17),u=r(18),l=r(6),f=r(5),h=r(19),d=r(20);document.getElementById("game-to-main").addEventListener("click",function(e){f.MessageBox.show("confirm accept reject","確認離開？",function(e){"accept"==e&&n.Page.switchTo("main")})});var R=new a.RelatiBoard(9,9),p=[new s.RelatiPlayer("O"),new s.RelatiPlayer("X")],_=[h.Placement],v=[d.DestoryRepeater,d.RestoreRepeater],y=new i.RelatiGame(R,p,o.BY_COMMON_RELATI,[],_,v),g=document.getElementById("game-board"),T=new c.RelatiBoardView(y,g);window.addEventListener("hashchange",function(){"#game"==location.hash&&y.restart()}),T.context.addEventListener("click",function(e){var t=Math.floor(e.offsetX/5),r=Math.floor(e.offsetY/5),n=R.getGrid(t,r);y.selectGrid&&y.selectGrid(n)}),y.onstart=T.remove.bind(T),y.onend=function(e){var t="",r="";switch(e){case 1:t="owin",r="圈方獲勝！";break;case 2:t="xwin",r="叉方獲勝！";break;case 3:t="draw",r="無人獲勝！"}f.MessageBox.show(t+" accept reject",r,function(e){"accept"==e&&y.restart()})};var C="";y.onturnstart=function(){return C=y.nowPlayer.symbol},y.onturnend=function(){T.update();var e=y.nowPlayer.symbol,t=l.PlacementRule.trace(y,e,o.BY_COMMON_RELATI);u.createHintEffect(t,e,T.layers[1]),u.createRelatiEffect(C,T.layers[0],y)}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,o)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(13),s=r(14),o=function(){function e(e,t,r,n,i,a){this.board=e,this.players=t,this.routeType=r,this.roleInitEffects=n,this.roleActions=i,this.rolePassEffects=a,this.turn=0,this.history=[],this.start()}return e.prototype.start=function(){return n(this,void 0,void 0,function(){var e,t,r,n,a,o,c,u,l;return i(this,function(i){switch(i.label){case 0:e=s.GAME_RESULT_NONE,this.onstart&&this.onstart(),i.label=1;case 1:return e!=s.GAME_RESULT_NONE?[3,15]:[4,this.gridSelect()];case 2:t=i.sent(),this.onturnstart&&this.onturnstart(t),this.selectedGrid=t,r=0,n=this.roleInitEffects,i.label=3;case 3:return r<n.length?[4,n[r].do(this)]:[3,6];case 4:i.sent(),i.label=5;case 5:return r++,[3,3];case 6:this.selectedGrid=t,a=!1,o=0,c=this.roleActions,i.label=7;case 7:return o<c.length?[4,c[o].do(t,this)]:[3,10];case 8:if(i.sent())return a=!0,[3,10];i.label=9;case 9:return o++,[3,7];case 10:if(!a)return[3,1];this.selectedGrid=t,u=0,l=this.rolePassEffects,i.label=11;case 11:return u<l.length?[4,l[u].do(this)]:[3,14];case 12:i.sent(),i.label=13;case 13:return u++,[3,11];case 14:return delete this.selectedGrid,e=s.WinnerDecision.state(this),this.onturnend&&this.onturnend(t),[3,1];case 15:return this.onend&&this.onend(e),[2,e]}})})},e.prototype.restart=function(){this.turn=0;for(var e=0,t=this.board.grids;e<t.length;e++){var r=t[e];r.symbol="",r.lost(a.AllRelatiStatus)}this.start()},e.prototype.gridSelect=function(){var e=this;return new Promise(function(t){return e.selectGrid=t})},Object.defineProperty(e.prototype,"nowPlayer",{get:function(){return this.players[this.turn%2]},enumerable:!0,configurable:!0}),e}();t.RelatiGame=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RelatiStatusList=["relati-launcher","relati-repeater","relati-receiver"],t.AllRelatiStatus=t.RelatiStatusList,t.RelatiSymbolList=["","O","X"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6);t.GAME_RESULT_NONE=0,t.GAME_RESULT_OWIN=1,t.GAME_RESULT_XWIN=2,t.GAME_RESULT_DRAW=3,t.WinnerDecision={state:function(e){if(e.turn<2)return t.GAME_RESULT_NONE;var r=e.nowPlayer,i=n.PlacementRule.trace(e,"O"),a=n.PlacementRule.trace(e,"X"),s=null!=i[0],o=null!=a[0];if(s&&o)return t.GAME_RESULT_NONE;if("O"==r.symbol){if(s)return t.GAME_RESULT_NONE;if(o)return t.GAME_RESULT_XWIN}else if("X"==r.symbol){if(o)return t.GAME_RESULT_NONE;if(s)return t.GAME_RESULT_OWIN}return t.GAME_RESULT_DRAW}}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(7),s=function(e){function t(t,r,n){var i=e.call(this,t,r,n)||this;return i.symbol="",i.status={},i}return i(t,e),t.prototype.is=function(e,t){if("string"==typeof e)return this.status[e];var r=e;if("all"===t){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(!this.status[a])return!1}return!0}for(var s=0,o=r;s<o.length;s++){var c=o[s];if(this.status[c])return!0}return!1},t.prototype.gain=function(e){if("string"==typeof e)return this.status[e]=!0;for(var t=0,r=e;t<r.length;t++){var n=r[t];this.status[n]=!0}},t.prototype.lost=function(e){if("string"==typeof e)return this.status[e]=!1;for(var t=0,r=e;t<r.length;t++){var n=r[t];this.status[n]=!1}},Object.defineProperty(t.prototype,"isSpace",{get:function(){return""===this.symbol||!this.is(["relati-receiver","relati-launcher"],"any")},enumerable:!0,configurable:!0}),t}(a.Grid);t.RelatiGrid=s;var o=function(e){function t(t,r){for(var n=e.call(this,t,r)||this,i=0;i<t;i++)for(var a=0;a<r;a++){var o=new s(n,i,a);n.grids[o.i]=o}return n}return i(t,e),t}(a.GridBoard);t.RelatiBoard=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e){this.symbol=e,this.status={},this.points={},this.params={}}}();t.RelatiPlayer=n},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(8),a=function(){function e(e,t){this.game=e,this.container=t,this.context=i.createSVG("svg"),this.gridViews=[];var r=e.board;i.updateSVG(this.context,{width:""+5*r.width,height:""+5*r.height});var n=i.createSVG("g"),a=i.createSVG("g"),c=i.createSVG("g"),u=i.createSVG("g");!function(e,t){for(var r=1;r<e.width;r++){s.d="M "+5*r+" 0 V "+5*e.height;var n=i.createSVG("path",s);t.appendChild(n)}for(var a=1;a<e.height;a++){s.d="M 0 "+5*a+" H "+5*e.width;var n=i.createSVG("path",s);t.appendChild(n)}}(r,c),this.layers=[n,a,c,u],i.appendSVGChild(this.context,this.layers);for(var l=0,f=r.grids;l<f.length;l++){var h=f[l],d=new o(h);u.appendChild(d.context),this.gridViews.push(d)}this.container.appendChild(this.context),this.resize(),window.addEventListener("resize",this.resize.bind(this))}return e.prototype.resize=function(){var e=this.container,t=this.game.board,r=t.width,n=t.height;this.context.style.transform="scale("+.95*Math.min(e.clientWidth/(5*r),e.clientHeight/(5*n))+")"},e.prototype.update=function(){for(var e=0,t=this.gridViews;e<t.length;e++){t[e].update()}},e.prototype.remove=function(){for(var e=0,t=this.gridViews;e<t.length;e++){t[e].remove()}i.removeSVGChild(this.layers[0]),i.removeSVGChild(this.layers[1])},e}();t.RelatiBoardView=a;var s={d:"",stroke:"#888","stroke-width":"0.4"};var o=function(){function e(e){this.grid=e,this.context=i.createSVG("g"),this.symbol="",this.status={},this.symbol=e.symbol,this.status=n({},e.status),this.update()}return e.prototype.update=function(){var e=this.grid;if(this.symbol!=e.symbol||this.status["relati-launcher"]!=e.status["relati-launcher"]||this.status["relati-repeater"]!=e.status["relati-repeater"]||this.status["relati-receiver"]!=e.status["relati-receiver"]){var t={d:"",fill:"none",stroke:"","stroke-width":"0.6"},r=5*e.x+1,a=5*e.y+1,s=5*e.x+4,o=5*e.y+4;switch(e.symbol){case"":i.removeSVGChild(this.context);break;case"O":t.d="M "+(r+1.5)+" "+(a+1.5)+" m 0 -1.5 a 1.5 1.5 0 0 1, 0 3 a 1.5 1.5 0 0 1, 0 -3",t.stroke="crimson";break;case"X":t.d="M "+r+" "+a+" L "+s+" "+o+" M "+s+" "+a+" L "+r+" "+o,t.stroke="royalblue"}if(this.symbol){if(!e.is("relati-launcher")){var c=t.stroke;e.is("relati-repeater")||(c="#666"),i.updateSVG(this.context.childNodes[0],{stroke:c})}}else e.isSpace||(e.is("relati-launcher")?(t["stroke-width"]="1.2",this.context.appendChild(i.createSVG("path",t)),t["stroke-width"]="0.6",t.stroke="#f2f2f2",this.context.appendChild(i.createSVG("path",t))):e.is("relati-repeater")?this.context.appendChild(i.createSVG("path",t)):(t.stroke="#666",this.context.appendChild(i.createSVG("path",t))));this.symbol=e.symbol,this.status=n({},e.status)}},e.prototype.remove=function(){this.symbol="",this.status={},i.removeSVGChild(this.context)},e}();t.RelatiGridView=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),i=r(4),a={"":"#666",O:"crimson",X:"royalblue"},s={cx:"",cy:"",r:"0.5",fill:""};function o(e,t,r){return s.cx=""+(5*e+2.5),s.cy=""+(5*t+2.5),s.fill=r,n.createSVG("circle",s)}t.createHintEffect=function(e,t,r){var i=a[t];n.removeSVGChild(r);for(var s=0,c=e;s<c.length;s++){var u=c[s],l=u.x,f=u.y;r.appendChild(o(l,f,i))}};var c={d:"","stroke-width":"0.5",stroke:"",fill:"none",class:"relati-effect-line"};function u(e,t,r,i){c.d="M "+(5*e.x+2.5)+" "+(5*e.y+2.5),c.stroke=r;for(var a=0,s=t;a<s.length;a++){var o=s[a];c.d+=" L "+(5*o.x+2.5)+" "+(5*o.y+2.5)}var u=n.createSVG("path",c);i.appendChild(u)}function l(e,t,r,n,a,s){e.is("effect-activate")||s.turn>a||(e.gain("effect-activate"),setTimeout(function(){if(!(s.turn>a))for(var o=0,c=i.RelatiRouteRule.trace(e,e.symbol,["relati-receiver"],n);o<c.length;o++){var f=c[o].grids;f.reverse();var h=f[f.length-1];h.is("effect-activate")||(u(e,f,t,r),l(h,t,r,n,a,s))}},250))}t.createRelatiEffect=function(e,t,r){var i=r.board.grids,s=r.routeType,o=r.turn,c=a[e];n.removeSVGChild(t);for(var u=0,f=i;u<f.length;u++)(R=f[u]).lost("effect-activate");for(var h=0,d=i;h<d.length;h++){var R;(R=d[h]).is("relati-launcher")&&R.symbol==e&&l(R,c,t,s,o,r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6);t.Placement={do:function(e,t){if(!e.isSpace)return!1;var r=t.nowPlayer.symbol,i=t.routeType;if(t.turn<2)e.symbol=r,e.gain("relati-launcher");else{if(!n.PlacementRule.allow(e,r,i))return!1;e.symbol=r,e.gain("relati-receiver")}return t.history.push({turn:t.turn,type:"placement",grid:e}),t.turn++,!0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),i=["relati-receiver"];function a(e,t){if(!e.is("relati-repeater")){e.gain("relati-repeater");for(var r=0,s=n.RelatiRouteRule.trace(e,e.symbol,i,t);r<s.length;r++){a(s[r].grids[0],t)}}}t.RestoreRepeater={do:function(e){for(var t=e.board,r=e.routeType,n=0,i=t.grids;n<i.length;n++){var s=i[n];s.is("relati-launcher")&&a(s,r)}}},t.DestoryRepeater={do:function(e){for(var t=0,r=e.board.grids;t<r.length;t++){r[t].lost("relati-repeater")}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=r(5);document.getElementById("help-to-main").addEventListener("click",function(e){i.MessageBox.show("confirm accept reject","確認離開？",function(e){"accept"==e&&n.Page.switchTo("main")})})}]);
//# sourceMappingURL=script.bundle.js.map