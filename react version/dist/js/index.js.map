{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./relati/GridBoard.ts","webpack:///./relati/Relati.ts","webpack:///./relati/Relati/RelatiGame.ts","webpack:///./relati/Relati/RelatiPlayer.ts","webpack:///./relati/Relati/RelatiRole.ts","webpack:///./relati/Relati/RelatiRoleEffects.ts","webpack:///./relati/Relati/RelatiRoleEffects/RelatiMaintain.ts","webpack:///./relati/Relati/RelatiRoles.ts","webpack:///./relati/Relati/RelatiRoles/RelatiLeader.ts","webpack:///./relati/Relati/RelatiRules.ts","webpack:///./relati/Relati/RelatiRules/RelatiBySource.ts","webpack:///./relati/Relati/RelatiRules/RelatiToTarget.ts","webpack:///./src/RelatiViews/RelatiBadgeView.tsx","webpack:///./src/RelatiViews/RelatiBoardView.tsx","webpack:///./src/RelatiViews/RelatiPathLine.tsx","webpack:///./src/index.tsx","webpack:///external \"React\"","webpack:///external \"ReactDOM\""],"names":[],"mappings":"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","file":"js/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.tsx\");\n","export class GridQueryCacheable {\n    protected _queryCache: { [command: string]: Grid } = {};\n    protected _queriesCache: { [command: string]: Grid[] } = {};\n\n    protected _cacheQueryResult(command: string, result: Grid) {\n        return this._queryCache[command] = result;\n    }\n\n    protected _cacheQueriesResult(commmands: string, results: Grid[]) {\n        return this._queriesCache[commmands] = results;\n    }\n\n    public clearQueryResult(command: string) {\n        return delete this._queryCache[command];\n    }\n\n    public clearQueriesResult(commands: string) {\n        return delete this._queriesCache[commands];\n    }\n}\n\nexport class Grid extends GridQueryCacheable {\n    public coordinate: string;\n\n    static simplifyDirectionList = [/I/g, /H/g, /T/g, /X/g, /O/g];\n    static originalDirectionLists = [\n        [\"F\", \"B\"], [\"R\", \"L\"],\n        [\"F\", \"B\", \"R\", \"L\"],\n        [\"FR\", \"FL\", \"BR\", \"BL\"],\n        [\"F\", \"B\", \"R\", \"L\", \"FR\", \"FL\", \"BR\", \"BL\"]\n    ];\n\n    constructor(\n        public board: GridBoard, public x: number, public y: number\n    ) {\n        super();\n        this.coordinate = `${String.fromCharCode(x + 65)}${y + 1}`;\n    }\n\n    query(directionCommand: string): Grid {\n        if (this._queryCache[directionCommand]) {\n            return this._queryCache[directionCommand];\n        }\n\n        var { x, y, board } = this;\n        var unitCarried = 1;\n        var unit = 1;\n\n        for (var direction of directionCommand) {\n            switch (direction) {\n                case \"F\": unitCarried = 1; y -= unit; break;\n                case \"B\": unitCarried = 1; y += unit; break;\n                case \"R\": unitCarried = 1; x += unit; break;\n                case \"L\": unitCarried = 1; x -= unit; break;\n\n                case \"-\": unit *= -1; break;\n\n                default:\n                    var unitValue = parseInt(direction);\n                    if (isNaN(unitValue)) break;\n\n                    if (unitCarried === 1) unit = unitValue;\n                    else unit = unit * 10 + unitValue;\n\n                    unitCarried++;\n                    break;\n            }\n        }\n\n        return this._cacheQueryResult(\n            directionCommand,\n            board.grids[x] && board.grids[x][y]\n        );\n    }\n\n    queries(directionCommands: string): Grid[] {\n        if (this._queriesCache[directionCommands]) {\n            return this._queriesCache[directionCommands];\n        }\n\n        var { simplifyDirectionList, originalDirectionLists } = Grid;\n        var gridList: Grid[] = [];\n\n        if (directionCommands.indexOf(\";\") > -1) {\n            for (var directionCommand of directionCommands.split(\";\")) {\n                gridList = gridList.concat(this.queries(directionCommand));\n            }\n\n            return this._cacheQueriesResult(\n                directionCommands,\n                gridList\n            );\n        }\n\n        for (var i = 0; i < simplifyDirectionList.length; i++) {\n            var simplifyDirection = simplifyDirectionList[i];\n            if (!directionCommands.match(simplifyDirection)) continue;\n\n            for (var originalDirection of originalDirectionLists[i]) {\n                gridList = gridList.concat(this.queries(\n                    directionCommands.replace(simplifyDirection, originalDirection)\n                ));\n            }\n\n            return this._cacheQueriesResult(\n                directionCommands,\n                gridList\n            );\n        }\n\n        if (directionCommands.indexOf(\",\") > -1) {\n            for (var directionCommand of directionCommands.split(\",\")) {\n                gridList = gridList.concat(this.queries(directionCommand));\n            }\n\n            return this._cacheQueriesResult(\n                directionCommands,\n                gridList\n            );\n        }\n\n        return this._cacheQueriesResult(\n            directionCommands,\n            [this.query(directionCommands)]\n        );\n    }\n}\n\nexport class GridBoard extends GridQueryCacheable {\n    public grids: Grid[][] = [];\n    public gridList: Grid[] = [];\n\n    constructor(public width: number, public height: number) {\n        super();\n        for (var x = 0; x < width; x++) {\n            var gridRow = [];\n\n            for (var y = 0; y < height; y++) {\n                var grid = new Grid(this, x, y);\n                gridRow.push(grid);\n                this.gridList.push(grid);\n                this._queryCache[grid.coordinate] = grid;\n            }\n\n            this.grids.push(gridRow);\n        }\n    }\n\n    public query(coordinateCommand: string): Grid {\n        if (this._queryCache[coordinateCommand]) {\n            return this._queryCache[coordinateCommand];\n        }\n\n        var coordinate = coordinateCommand;\n        var x = coordinate[0].charCodeAt(0) - 65;\n        var y = parseInt(coordinate.substr(1, coordinate.length - 1)) - 1;\n\n        return this._cacheQueryResult(\n            coordinateCommand,\n            this.grids[x] && this.grids[x][y]\n        );\n    }\n\n    public queries(coordinateCommands: string): Grid[] {\n        if (this._queriesCache[coordinateCommands]) {\n            return this._queriesCache[coordinateCommands];\n        }\n\n        var gridList: Grid[] = [];\n        var { width, height } = this;\n\n        if (coordinateCommands === \"*\") return this.gridList;\n\n        if (coordinateCommands.indexOf(\",\") > -1) {\n            for (var coordinate of coordinateCommands.split(\",\")) {\n                gridList = gridList.concat(this.queries(coordinate));\n            }\n\n            return this._cacheQueriesResult(\n                coordinateCommands,\n                gridList\n            );\n        }\n\n        if (coordinateCommands.indexOf(\":\")) {\n            var coordinates = coordinateCommands.split(\":\");\n            var startCoordinate = coordinates[0];\n            var endCoordinate = coordinates[1];\n            var startGrid = this.query(startCoordinate);\n            var endGrid = this.query(endCoordinate);\n            var startX = Math.min(startGrid.x, endGrid.x);\n            var endX = Math.max(startGrid.x, endGrid.x);\n            var startY = Math.min(startGrid.y, endGrid.y);\n            var endY = Math.max(startGrid.y, endGrid.y);\n\n            for (var x = startX; x <= endX; x++) {\n                for (var y = startY; y <= endY; y++) {\n                    var grid = this.grids[x] && this.grids[x][y];\n                    gridList.push(grid);\n                }\n            }\n\n            return this._cacheQueriesResult(\n                coordinateCommands,\n                gridList\n            );\n        }\n\n        var y = parseInt(coordinateCommands);\n\n        if (!isNaN(y)) {\n            for (var x = 0; x < width; x++) {\n                gridList.push(this.grids[x][y]);\n            }\n\n            return this._cacheQueriesResult(\n                coordinateCommands,\n                gridList\n            );\n        } else if (coordinateCommands.length === 1) {\n            var x = coordinateCommands.charCodeAt(0) - 65;\n\n            for (var y = 0; y < height; y++) {\n                gridList.push(this.grids[x][y]);\n            }\n\n            return this._cacheQueriesResult(\n                coordinateCommands,\n                gridList\n            );\n        }\n\n\n        return this._cacheQueriesResult(\n            coordinateCommands,\n            [this.query(coordinateCommands)]\n        );\n    }\n}","export * from \"./Relati/RelatiBoard\";\nexport * from \"./Relati/RelatiRole\";\n\nexport * from \"./Relati/RelatiGame\";\nexport * from \"./Relati/RelatiPlayer\";\n\nexport * from \"./Relati/RelatiRule\";\n\nimport * as RelatiRules from \"./Relati/RelatiRules\";\nexport { RelatiRules };\n\nimport * as RelatiRoles from \"./Relati/RelatiRoles\";\nexport { RelatiRoles };\n\nimport * as RelatiRoleEffects from \"./Relati/RelatiRoleEffects\";\nexport { RelatiRoleEffects };","import { RelatiBoard, RelatiGrid } from \"./RelatiBoard\";\nimport { RelatiPlayer } from \"./RelatiPlayer\";\nimport * as RelatiRules  from \"./RelatiRules\";\nimport { RelatiRole } from \"./RelatiRole\";\nimport * as RelatiRoles  from \"./RelatiRoles\";\n\nexport class RelatiGame {\n    public turn = 0;\n    public players: RelatiPlayer[] = [];\n    public status: string = \"\";\n\n    constructor(public board: RelatiBoard) { }\n\n    getNowPlayer() {\n        var totalPlayer = this.players.length;\n        return this.players[this.turn % totalPlayer];\n    }\n\n    selectGrid(grid: RelatiGrid) {\n        if (grid.role && grid.role.owner) return;\n        var owner = this.getNowPlayer();\n        var game = this;\n\n        if (this.turn < this.players.length) {\n            grid.role = new RelatiRoles.RelatiLeader(owner, grid);\n            grid.role.gain(\"relati-launcher\");\n        } else if (RelatiRules.RelatiBySource.allow({ game, grid, owner })) {\n            grid.role = new RelatiRole(owner, grid);\n            grid.role.gain(\"relati-receiver\");\n        } else return;\n\n        this.turn++;\n\n        for (let grid of this.board.gridList) {\n            if (!grid.role) continue;\n\n            for (var effect of grid.role.effects) {\n                effect.do({ game, grid, owner });\n            }\n        }\n\n        var enemy = this.getNowPlayer();\n\n        if (this.turn >= this.players.length) {\n            for (var grid of this.board.gridList) {\n                if (!grid.role && RelatiRules.RelatiBySource.allow({\n                    game, grid, owner: enemy\n                })) return;\n            }\n\n            this.status = owner.badge + \" Win\";\n\n            for (var grid of this.board.gridList) {\n                if (!grid.role && RelatiRules.RelatiBySource.allow({\n                    game, grid, owner\n                })) return;\n            }\n\n            this.status = \"Draw\";\n        }\n    }\n}\n\nexport interface RelatiGameState {\n    game?: RelatiGame,\n    owner?: RelatiPlayer,\n    grid?: RelatiGrid\n}","import { RelatiGame } from \"./RelatiGame\";\nimport { RelatiGrid } from \"./RelatiBoard\";\n\nexport class RelatiPlayer {\n    [prop: string]: any;\n\n    constructor(\n        public game: RelatiGame,\n        public badge: string\n    ) { }\n\n    selectGrid(grid: RelatiGrid) {\n        var nowPlayer = this.game.getNowPlayer();\n        if (nowPlayer != this) return;\n        this.game.selectGrid(grid);\n    }\n}","import { RelatiRoleEffect, RelatiRoleAction } from \"./RelatiRole\";\nimport { RelatiPlayer } from \"./RelatiPlayer\";\nimport { RelatiGrid } from \"./RelatiBoard\";\nimport { RelatiGameState } from \"./RelatiGame\";\n\nexport type RelatiRoleType = \"normal\" | \"leader\" | \"wizard\";\n\nexport type RelatiRoleStatus = (\n    RelatiRoleStatusRelati\n);\n\nexport interface RelatiRole {\n    is(status: RelatiRoleStatus): boolean;\n    is(status: RelatiRoleStatus[], type: \"all\" | \"any\"): boolean;\n}\n\nexport class RelatiRole {\n    public type: RelatiRoleType = \"normal\";\n    public status: { [status: string]: boolean } = {};\n    public effects: RelatiRoleEffect[] = [];\n    public actions: RelatiRoleAction[] = [];\n\n    constructor(\n        public owner: RelatiPlayer,\n        public grid: RelatiGrid\n    ) { }\n\n    is(status: RelatiRoleStatus | RelatiRoleStatus[], type?: \"all\" | \"any\") {\n        if (typeof status === \"string\") return this.status[status];\n\n        if (type === \"any\") {\n            for (var statusName of status) {\n                if (this.status[statusName]) return true;\n            }\n\n            return false;\n        } else {\n            for (var statusName of status) {\n                if (!this.status[statusName]) return false;\n            }\n\n            return true;\n        }\n    }\n\n    gain(...statusList: RelatiRoleStatus[]) {\n        for (var status of statusList) {\n            this.status[status] = true;\n        }\n    }\n\n    lost(...statusList: RelatiRoleStatus[]) {\n        for (var status of statusList) {\n            this.status[status] = false;\n        }\n    }\n}\n\nexport type RelatiRoleStatusRelatiRemoteStable = (\n    \"relati-remote-stable-launcher\" |\n    \"relati-remote-stable-repeater\" |\n    \"relati-remote-stable-receiver\"\n);\n\nexport var RelatiRoleStatusRelatiRemoteStable: RelatiRoleStatusRelatiRemoteStable[] = [\n    \"relati-remote-stable-launcher\",\n    \"relati-remote-stable-repeater\",\n    \"relati-remote-stable-receiver\"\n];\n\nexport type RelatiRoleStatusRelatiRemoteNormal = (\n    \"relati-remote-normal-launcher\" |\n    \"relati-remote-normal-repeater\" |\n    \"relati-remote-normal-receiver\"\n);\n\nexport var RelatiRoleStatusRelatiRemoteNormal: RelatiRoleStatusRelatiRemoteNormal[] = [\n    \"relati-remote-normal-launcher\",\n    \"relati-remote-normal-repeater\",\n    \"relati-remote-normal-receiver\"\n];\n\nexport type RelatiRoleStatusRelatiRemote = (\n    \"relati-remote-launcher\" |\n    \"relati-remote-repeater\" |\n    \"relati-remote-receiver\" |\n    RelatiRoleStatusRelatiRemoteNormal |\n    RelatiRoleStatusRelatiRemoteStable\n);\n\nexport var RelatiRoleStatusRelatiRemote: RelatiRoleStatusRelatiRemote[] = [\n    \"relati-remote-launcher\",\n    \"relati-remote-repeater\",\n    \"relati-remote-receiver\",\n    ...RelatiRoleStatusRelatiRemoteNormal,\n    ...RelatiRoleStatusRelatiRemoteStable\n];\n\nexport type RelatiRoleStatusRelatiNormal = (\n    \"relati-normal-launcher\" |\n    \"relati-normal-repeater\" |\n    \"relati-normal-receiver\"\n);\n\nexport var RelatiRoleStatusRelatiNormal: RelatiRoleStatusRelatiNormal[] = [\n    \"relati-normal-launcher\",\n    \"relati-normal-repeater\",\n    \"relati-normal-receiver\"\n];\n\nexport type RelatiRoleStatusRelati = (\n    \"relati-launcher\" |\n    \"relati-repeater\" |\n    \"relati-receiver\" |\n    RelatiRoleStatusRelatiNormal |\n    RelatiRoleStatusRelatiRemote\n);\n\nexport var RelatiRoleStatusRelati: RelatiRoleStatusRelati[] = [\n    \"relati-launcher\",\n    \"relati-repeater\",\n    \"relati-receiver\",\n    ...RelatiRoleStatusRelatiNormal,\n    ...RelatiRoleStatusRelatiRemote\n];\n\nexport type RelatiRoleStatusRelatiLauncher = (\n    \"relati-launcher\" |\n    \"relati-normal-launcher\" |\n    \"relati-remote-launcher\" |\n    \"relati-remote-normal-launcher\" |\n    \"relati-remote-stable-launcher\"\n);\n\nexport var RelatiRoleStatusRelatiLauncher: RelatiRoleStatusRelatiLauncher[] = [\n    \"relati-launcher\",\n    \"relati-normal-launcher\",\n    \"relati-remote-launcher\",\n    \"relati-remote-normal-launcher\",\n    \"relati-remote-stable-launcher\"\n];\n\nexport type RelatiRoleStatusRelatiRepeater = (\n    \"relati-repeater\" |\n    \"relati-normal-repeater\" |\n    \"relati-remote-repeater\" |\n    \"relati-remote-normal-repeater\" |\n    \"relati-remote-stable-repeater\"\n);\n\nexport var RelatiRoleStatusRelatiRepeater: RelatiRoleStatusRelatiRepeater[] = [\n    \"relati-repeater\",\n    \"relati-normal-repeater\",\n    \"relati-remote-repeater\",\n    \"relati-remote-normal-repeater\",\n    \"relati-remote-stable-repeater\"\n];\n\nexport type RelatiRoleStatusRelatiReceiver = (\n    \"relati-receiver\" |\n    \"relati-normal-receiver\" |\n    \"relati-remote-receiver\" |\n    \"relati-remote-normal-receiver\" |\n    \"relati-remote-stable-receiver\"\n);\n\nexport var RelatiRoleStatusRelatiReceiver: RelatiRoleStatusRelatiReceiver[] = [\n    \"relati-receiver\",\n    \"relati-normal-receiver\",\n    \"relati-remote-receiver\",\n    \"relati-remote-normal-receiver\",\n    \"relati-remote-stable-receiver\"\n];\n\nexport interface RelatiRoleAction extends RelatiRoleEffect { }\n\nexport interface RelatiRoleEffect {\n    name: string;\n    do(state: RelatiGameState): void;\n}","export * from \"./RelatiRoleEffects/RelatiMaintain\";","import { RelatiRoleEffect } from \"../RelatiRole\";\nimport { RelatiGrid } from \"../RelatiBoard\";\nimport { RelatiPlayer } from \"../RelatiPlayer\";\nimport * as RelatiRules from \"../RelatiRules\";\n\nexport var RelatiMaintain: RelatiRoleEffect = {\n    name: \"\",\n    do({ game, grid }) {\n        if (\n            !game || !grid || !grid.role ||\n            game.turn < game.players.length\n        ) return;\n\n        var owner = grid.role.owner;\n\n        for (let grid of game.board.gridList) {\n            if (grid.role && grid.role.owner === owner) {\n                grid.role.status[\"relati-repeater\"] = false;\n            }\n        }\n\n        maintain(grid, owner);\n    }\n};\n\nfunction maintain(grid: RelatiGrid, owner: RelatiPlayer) {\n    if (!grid.role || grid.role.status[\"relati-repeater\"]) return;\n    grid.role.status[\"relati-repeater\"] = true;\n\n    var ruleTraces = RelatiRules.RelatiToTarget.trace({ owner, grid });\n\n    for (var trace of ruleTraces) {\n        var targetGrid = trace.target;\n        maintain(targetGrid, owner);\n    }\n}","export * from \"./RelatiRoles/RelatiLeader\";","import { RelatiRole, RelatiRoleType } from \"../RelatiRole\";\nimport * as RelatiRoleEffects from \"../RelatiRoleEffects\";\n\nexport class RelatiLeader extends RelatiRole {\n    public type: RelatiRoleType = \"leader\";\n    public effects = [RelatiRoleEffects.RelatiMaintain];\n}","export * from \"./RelatiRules/RelatiBySource\";\nexport * from \"./RelatiRules/RelatiToTarget\";","import { RelatiRuleTrace, RelatiRuleTraceable } from \"../RelatiRule\";\nimport { RelatiRoleStatus } from \"../RelatiRole\";\n\nexport var RelatiSourceGridStatus: RelatiRoleStatus[] = [\n    \"relati-launcher\",\n    \"relati-repeater\"\n];\n\nexport var RelatiBySource: RelatiRuleTraceable = {\n    allow(state) {\n        return (\n            RelatiNormalBySource.allow(state) ||\n            RelatiRemoteBySource.allow(state)\n        );\n    },\n    trace(state) {\n        return [\n            ...RelatiNormalBySource.trace(state),\n            ...RelatiRemoteBySource.trace(state)\n        ];\n    }\n};\n\nexport var RelatiNormalSourceGridStatus: RelatiRoleStatus[] = [\n    \"relati-normal-launcher\",\n    \"relati-normal-repeater\",\n    ...RelatiSourceGridStatus\n];\n\nexport var RelatiNormalBySource: RelatiRuleTraceable = {\n    allow({ owner, grid }) {\n        if (!grid) return false;\n\n        var sourceGrids = grid.queries(\"O\");\n\n        for (var i = 0; i < sourceGrids.length; i++) {\n            var sourceGrid = sourceGrids[i];\n            var sourceReliable = (\n                sourceGrid &&\n                sourceGrid.role &&\n                sourceGrid.role.owner === owner &&\n                sourceGrid.role.is(\n                    RelatiNormalSourceGridStatus, \"any\"\n                )\n            );\n            if (sourceReliable) return true;\n        }\n\n        return false;\n    },\n    trace({ owner, grid }) {\n        if (!grid) return [];\n\n        var sourceGrids = grid.queries(\"O\");\n        var ruleTraces: RelatiRuleTrace[] = [];\n\n        for (var i = 0; i < sourceGrids.length; i++) {\n            var sourceGrid = sourceGrids[i];\n            var sourceReliable = (\n                sourceGrid &&\n                sourceGrid.role &&\n                sourceGrid.role.owner === owner &&\n                sourceGrid.role.is(\n                    RelatiNormalSourceGridStatus, \"any\"\n                )\n            );\n\n            if (sourceReliable) {\n                ruleTraces.push({\n                    target: sourceGrid,\n                    routes: []\n                });\n            }\n        }\n\n        return ruleTraces;\n    }\n};\n\nexport var RelatiRemoteSourceGridStatus: RelatiRoleStatus[] = [\n    \"relati-remote-launcher\",\n    \"relati-remote-repeater\",\n    ...RelatiSourceGridStatus\n];\n\nexport var RelatiRemoteBySource: RelatiRuleTraceable = {\n    allow(state) {\n        return (\n            RelatiRemoteNormalBySource.allow(state) ||\n            RelatiRemoteStableBySource.allow(state)\n        );\n    },\n    trace(state) {\n        return [\n            ...RelatiRemoteNormalBySource.trace(state),\n            ...RelatiRemoteStableBySource.trace(state)\n        ];\n    }\n};\n\nexport var RelatiRemoteNormalSourceGridStatus: RelatiRoleStatus[] = [\n    \"relati-remote-normal-launcher\",\n    \"relati-remote-normal-repeater\",\n    ...RelatiRemoteSourceGridStatus\n];\n\nexport var RelatiRemoteNormalBySource: RelatiRuleTraceable = {\n    allow({ owner, grid }) {\n        if (!grid) return false;\n\n        var sourceGrids = grid.queries(\"2O,O\");\n\n        for (var i = 0; i < sourceGrids.length; i += 2) {\n            var sourceGrid = sourceGrids[i];\n            var sourceReliable = (\n                sourceGrid &&\n                sourceGrid.role &&\n                sourceGrid.role.owner === owner &&\n                sourceGrid.role.is(\n                    RelatiRemoteNormalSourceGridStatus, \"any\"\n                )\n            );\n            if (!sourceReliable) continue;\n\n            var middleGrid = sourceGrids[i + 1];\n            var notBlocked = !middleGrid.role;\n            if (notBlocked) return true;\n        }\n\n        return false;\n    },\n    trace({ owner, grid }) {\n        if (!grid) return [];\n\n        var sourceGrids = grid.queries(\"2O,O\");\n        var ruleTraces: RelatiRuleTrace[] = [];\n\n        for (var i = 0; i < sourceGrids.length; i += 2) {\n            var sourceGrid = sourceGrids[i];\n            var sourceReliable = (\n                sourceGrid &&\n                sourceGrid.role &&\n                sourceGrid.role.owner === owner &&\n                sourceGrid.role.is(\n                    RelatiRemoteNormalSourceGridStatus, \"any\"\n                )\n            );\n            if (!sourceReliable) continue;\n\n            var middleGrid = sourceGrids[i + 1];\n            var notBlocked = !middleGrid.role;\n            if (notBlocked) {\n                ruleTraces.push({\n                    target: sourceGrid,\n                    routes: [middleGrid]\n                });\n            }\n        }\n\n        return ruleTraces;\n    }\n};\n\nexport var RelatiRemoteStableSourceGridStatus: RelatiRoleStatus[] = [\n    \"relati-remote-stable-launcher\",\n    \"relati-remote-stable-repeater\",\n    ...RelatiRemoteSourceGridStatus\n];\n\nexport var RelatiRemoteStableBySource: RelatiRuleTraceable = {\n    allow({ owner, grid }) {\n        if (!grid) return false;\n\n        var sourceGrids = grid.queries(\"IIH,II,I,IH,H,IHH,HH,H,HI,I\");\n\n        for (var i = 0; i < sourceGrids.length; i += 5) {\n            var sourceGrid = sourceGrids[i];\n            var sourceReliable = (\n                sourceGrid &&\n                sourceGrid.role &&\n                sourceGrid.role.owner === owner &&\n                sourceGrid.role.is(\n                    RelatiRemoteStableSourceGridStatus, \"any\"\n                )\n            );\n            if (!sourceReliable) continue;\n\n            var middleGrids = sourceGrids.slice(i + 1, i + 5);\n\n            for (var j = 0; j < middleGrids.length - 1; j++) {\n                var middleGrid1 = middleGrids[j];\n                var middleGrid2 = middleGrids[j + 1];\n\n                var notBlocked = !middleGrid1.role && !middleGrid2.role;\n                if (notBlocked) return true;\n            }\n        }\n\n        return false;\n    },\n    trace({ owner, grid }) {\n        if (!grid) return [];\n\n        var sourceGrids = grid.queries(\"IIH,II,I,IH,H,IHH,HH,H,HI,I\");\n        var ruleTraces: RelatiRuleTrace[] = [];\n\n        for (var i = 0; i < sourceGrids.length; i += 5) {\n            var sourceGrid = sourceGrids[i];\n            var sourceReliable = (\n                sourceGrid &&\n                sourceGrid.role &&\n                sourceGrid.role.owner === owner &&\n                sourceGrid.role.is(\n                    RelatiRemoteStableSourceGridStatus, \"any\"\n                )\n            );\n            if (!sourceReliable) continue;\n\n            var middleGrids = sourceGrids.slice(i + 1, i + 5);\n\n            var middleGrid1 = middleGrids[1];\n            var middleGrid2 = middleGrids[0];\n            var notBlocked = !middleGrid1.role && !middleGrid2.role;\n\n            if (notBlocked) ruleTraces.push({\n                target: sourceGrid,\n                routes: [\n                    middleGrid1,\n                    middleGrid2\n                ]\n            });\n\n            var middleGrid1 = middleGrids[1];\n            var middleGrid2 = middleGrids[2];\n            var notBlocked = !middleGrid1.role && !middleGrid2.role;\n\n            if (notBlocked) ruleTraces.push({\n                target: sourceGrid,\n                routes: [\n                    middleGrid1,\n                    middleGrid2\n                ]\n            });\n\n            var middleGrid1 = middleGrids[3];\n            var middleGrid2 = middleGrids[2];\n            var notBlocked = !middleGrid1.role && !middleGrid2.role;\n\n            if (notBlocked) ruleTraces.push({\n                target: sourceGrid,\n                routes: [\n                    middleGrid1,\n                    middleGrid2\n                ]\n            });\n        }\n\n        return ruleTraces;\n    }\n};","import { RelatiRuleTrace, RelatiRuleTraceable } from \"../RelatiRule\";\nimport { RelatiRoleStatus } from \"../RelatiRole\";\n\nexport var RelatiTargetGridStatus: RelatiRoleStatus[] = [\n    \"relati-receiver\"\n];\n\nexport var RelatiToTarget: RelatiRuleTraceable = {\n    allow(state) {\n        return (\n            RelatiNormalToTarget.allow(state) ||\n            RelatiRemoteToTarget.allow(state)\n        );\n    },\n    trace(state) {\n        return [\n            ...RelatiNormalToTarget.trace(state),\n            ...RelatiRemoteToTarget.trace(state)\n        ];\n    }\n};\n\nexport var RelatiNormalTargetGridStatus: RelatiRoleStatus[] = [\n    \"relati-normal-receiver\",\n    ...RelatiTargetGridStatus\n];\n\nexport var RelatiNormalToTarget: RelatiRuleTraceable = {\n    allow({ owner, grid }) {\n        if (!grid) return false;\n\n        var targetGrids = grid.queries(\"O\");\n\n        for (var i = 0; i < targetGrids.length; i++) {\n            var targetGrid = targetGrids[i];\n            var targetReliable = (\n                targetGrid &&\n                targetGrid.role &&\n                targetGrid.role.owner === owner &&\n                targetGrid.role.is(\n                    RelatiNormalTargetGridStatus, \"any\"\n                )\n            );\n            if (targetReliable) return true;\n        }\n\n        return false;\n    },\n    trace({ owner, grid }) {\n        if (!grid) return [];\n\n        var targetGrids = grid.queries(\"O\");\n        var ruleTraces: RelatiRuleTrace[] = [];\n\n        for (var i = 0; i < targetGrids.length; i++) {\n            var targetGrid = targetGrids[i];\n            var targetReliable = (\n                targetGrid &&\n                targetGrid.role &&\n                targetGrid.role.owner === owner &&\n                targetGrid.role.is(\n                    RelatiNormalTargetGridStatus, \"any\"\n                )\n            );\n\n            if (targetReliable) {\n                ruleTraces.push({\n                    target: targetGrid,\n                    routes: []\n                });\n            }\n        }\n\n        return ruleTraces;\n    }\n};\n\nexport var RelatiRemoteTargetGridStatus: RelatiRoleStatus[] = [\n    \"relati-remote-receiver\",\n    ...RelatiTargetGridStatus\n];\n\nexport var RelatiRemoteToTarget: RelatiRuleTraceable = {\n    allow(state) {\n        return (\n            RelatiRemoteNormalToTarget.allow(state) ||\n            RelatiRemoteStableToTarget.allow(state)\n        );\n    },\n    trace(state) {\n        return [\n            ...RelatiRemoteNormalToTarget.trace(state),\n            ...RelatiRemoteStableToTarget.trace(state)\n        ];\n    }\n};\n\nexport var RelatiRemoteNormalTargetGridStatus: RelatiRoleStatus[] = [\n    \"relati-remote-normal-receiver\",\n    ...RelatiRemoteTargetGridStatus\n];\n\nexport var RelatiRemoteNormalToTarget: RelatiRuleTraceable = {\n    allow({ owner, grid }) {\n        if (!grid) return false;\n\n        var targetGrids = grid.queries(\"2O,O\");\n\n        for (var i = 0; i < targetGrids.length; i += 2) {\n            var targetGrid = targetGrids[i];\n            var targetReliable = (\n                targetGrid &&\n                targetGrid.role &&\n                targetGrid.role.owner === owner &&\n                targetGrid.role.is(\n                    RelatiRemoteNormalTargetGridStatus, \"any\"\n                )\n            );\n            if (!targetReliable) continue;\n\n            var middleGrid = targetGrids[i + 1];\n            var notBlocked = !middleGrid.role;\n            if (notBlocked) return true;\n        }\n\n        return false;\n    },\n    trace({ owner, grid }) {\n        if (!grid) return [];\n\n        var targetGrids = grid.queries(\"2O,O\");\n        var ruleTraces: RelatiRuleTrace[] = [];\n\n        for (var i = 0; i < targetGrids.length; i += 2) {\n            var targetGrid = targetGrids[i];\n            var targetReliable = (\n                targetGrid &&\n                targetGrid.role &&\n                targetGrid.role.owner === owner &&\n                targetGrid.role.is(\n                    RelatiRemoteNormalTargetGridStatus, \"any\"\n                )\n            );\n            if (!targetReliable) continue;\n\n            var middleGrid = targetGrids[i + 1];\n            var notBlocked = !middleGrid.role;\n            if (notBlocked) {\n                ruleTraces.push({\n                    target: targetGrid,\n                    routes: [middleGrid]\n                });\n            }\n        }\n\n        return ruleTraces;\n    }\n};\n\nexport var RelatiRemoteStableTargetGridStatus: RelatiRoleStatus[] = [\n    \"relati-remote-stable-receiver\",\n    ...RelatiRemoteTargetGridStatus\n];\n\nexport var RelatiRemoteStableToTarget: RelatiRuleTraceable = {\n    allow({ owner, grid }) {\n        if (!grid) return false;\n\n        var targetGrids = grid.queries(\"IIH,II,I,IH,H,IHH,HH,H,HI,I\");\n\n        for (var i = 0; i < targetGrids.length; i += 5) {\n            var targetGrid = targetGrids[i];\n            var targetReliable = (\n                targetGrid &&\n                targetGrid.role &&\n                targetGrid.role.owner === owner &&\n                targetGrid.role.is(\n                    RelatiRemoteStableTargetGridStatus, \"any\"\n                )\n            );\n            if (!targetReliable) continue;\n\n            var middleGrids = targetGrids.slice(i + 1, i + 5);\n\n            for (var j = 0; j < middleGrids.length - 1; j++) {\n                var middleGrid1 = middleGrids[j];\n                var middleGrid2 = middleGrids[j + 1];\n\n                var notBlocked = !middleGrid1.role && !middleGrid2.role;\n                if (notBlocked) return true;\n            }\n        }\n\n        return false;\n    },\n    trace({ owner, grid }) {\n        if (!grid) return [];\n\n        var targetGrids = grid.queries(\"IIH,II,I,IH,H,IHH,HH,H,HI,I\");\n        var ruleTraces: RelatiRuleTrace[] = [];\n\n        for (var i = 0; i < targetGrids.length; i += 5) {\n            var targetGrid = targetGrids[i];\n            var targetReliable = (\n                targetGrid &&\n                targetGrid.role &&\n                targetGrid.role.owner === owner &&\n                targetGrid.role.is(\n                    RelatiRemoteStableTargetGridStatus, \"any\"\n                )\n            );\n            if (!targetReliable) continue;\n\n            var middleGrids = targetGrids.slice(i + 1, i + 5);\n\n            var middleGrid1 = middleGrids[1];\n            var middleGrid2 = middleGrids[0];\n            var notBlocked = !middleGrid1.role && !middleGrid2.role;\n\n            if (notBlocked) ruleTraces.push({\n                target: targetGrid,\n                routes: [\n                    middleGrid1,\n                    middleGrid2\n                ]\n            });\n\n            var middleGrid1 = middleGrids[1];\n            var middleGrid2 = middleGrids[2];\n            var notBlocked = !middleGrid1.role && !middleGrid2.role;\n\n            if (notBlocked) ruleTraces.push({\n                target: targetGrid,\n                routes: [\n                    middleGrid1,\n                    middleGrid2\n                ]\n            });\n\n            var middleGrid1 = middleGrids[3];\n            var middleGrid2 = middleGrids[2];\n            var notBlocked = !middleGrid1.role && !middleGrid2.role;\n\n            if (notBlocked) ruleTraces.push({\n                target: targetGrid,\n                routes: [\n                    middleGrid1,\n                    middleGrid2\n                ]\n            });\n        }\n\n        return ruleTraces;\n    }\n};\n","import * as React from \"react\";\nimport { RelatiGrid } from \"../../relati/Relati\";\n\nexport interface RelatiBadgeViewProp {\n    grid: RelatiGrid;\n}\n\nexport class RelatiBadgeView extends React.Component<RelatiBadgeViewProp> {\n    render() {\n        var grid = this.props.grid;\n        var badge: JSX.Element[] = [];\n\n        var srtX = grid.x * 5 + 1;\n        var srtY = grid.y * 5 + 1;\n        var endX = grid.x * 5 + 4;\n        var endY = grid.y * 5 + 4;\n\n        var badgeAttr = {\n            \"d\": \"\",\n            \"strokeWidth\": \"0.6\",\n            \"stroke\": \"\",\n            \"fill\": \"none\",\n            \"key\": \"1\"\n        };\n\n        if (!grid.role) return <g key={grid.coordinate}>{badge}</g>;\n\n        switch (grid.role.owner.badge) {\n            case \"O\":\n                badgeAttr[\"d\"] = `\n                    M ${srtX + 1.5} ${srtY + 1.5}\n                    m 0 -1.5\n                    a 1.5 1.5 0 0 1, 0 3\n                    a 1.5 1.5 0 0 1, 0 -3\n                `;\n                badgeAttr[\"stroke\"] = \"crimson\";\n                break;\n            case \"X\":\n                badgeAttr[\"d\"] = `\n                    M ${srtX} ${srtY} L ${endX} ${endY}\n                    M ${endX} ${srtY} L ${srtX} ${endY}\n                `;\n                badgeAttr[\"stroke\"] = \"royalblue\";\n                break;\n        }\n\n        if (grid.role.is(\"relati-launcher\")) {\n            badgeAttr[\"strokeWidth\"] = \"1\";\n            badge.push(React.createElement(\"path\", badgeAttr));\n            badgeAttr[\"key\"] = \"2\";\n            badgeAttr[\"stroke\"] = \"#f2f2f2\";\n            badgeAttr[\"strokeWidth\"] = \"0.5\";\n            badge.push(React.createElement(\"path\", badgeAttr));\n        } else if (grid.role.is(\"relati-repeater\")) {\n            badge.push(React.createElement(\"path\", badgeAttr));\n        } else {\n            badgeAttr[\"stroke\"] = \"#666\";\n            badge.push(React.createElement(\"path\", badgeAttr));\n        }\n\n        return <g key={grid.coordinate}>{badge}</g>;\n    }\n}","import * as React from \"react\";\n\nimport {\n    RelatiGame,\n    RelatiGrid,\n    RelatiRules,\n    RelatiPlayer\n} from \"../../relati/Relati\";\n\nimport { RelatiBadgeView } from \"./RelatiBadgeView\";\nimport { RelatiPathLine } from \"./RelatiPathLine\";\nimport { Color } from \"csstype\";\n\nexport interface RelatBoardViewProp {\n    game: RelatiGame,\n    gridSize: number\n}\n\nexport class RelatiBoardView extends React.Component<RelatBoardViewProp> {\n    public game: RelatiGame;\n    public gridSize: number;\n    public state: { [state: string]: any };\n    public gameTurn = 0;\n    public gridVisited: RelatiGrid[] = [];\n\n    constructor(prop: RelatBoardViewProp) {\n        super(prop);\n        this.game = prop.game;\n        this.gridSize = prop.gridSize;\n\n        this.state = {\n            background: [],\n            gridList: this.game.board.gridList,\n            gridLinePaths: []\n        };\n\n        var { board } = this.game;\n        var { gridSize } = this;\n\n        for (var x = 1; x < board.width; x++) {\n            this.state.gridLinePaths.push(\n                `M ${x * gridSize} 0 V ${board.height * gridSize}`\n            );\n        }\n\n        for (var y = 1; y < board.height; y++) {\n            this.state.gridLinePaths.push(\n                `M 0 ${y * gridSize} H ${board.width * gridSize}`\n            );\n        }\n\n        (window as any).comp = this;\n    }\n\n    private _onClick(reactEvent: React.MouseEvent) {\n        var event = reactEvent.nativeEvent;\n        var { board } = this.game;\n\n        var x: number = Math.floor(event.offsetX / 5),\n            y: number = Math.floor(event.offsetY / 5),\n            grid = board.grids[x] && board.grids[x][y];\n\n        this.game.selectGrid(grid);\n        this.state.background = [];\n        this.forceUpdate();\n\n        setTimeout(function (this: RelatiBoardView) {\n            this.createMaintainEffect();\n        }.bind(this), 50);\n    }\n\n    createGridView(grid: RelatiGrid) {\n        if (grid.role) return <RelatiBadgeView grid={grid} key={grid.coordinate} />;\n\n        var { game } = this;\n        var owner = game.getNowPlayer();\n        var color = owner.badge == \"O\" ? \"crimson\" : \"royalblue\";\n\n        var srtX = grid.x * 5 + 1;\n        var srtY = grid.y * 5 + 1;\n        var endX = grid.x * 5 + 4;\n        var endY = grid.y * 5 + 4;\n\n        if (RelatiRules.RelatiBySource.allow({ game, grid, owner })) {\n            return (\n                <g key={grid.coordinate}>\n                    {React.createElement(\"path\", {\n                        \"d\": `\n                            M ${srtX + 1.5} ${srtY + 1.5}\n                            m 0 -0.4\n                            a 0.4 0.4 0 0 1, 0 0.8\n                            a 0.4 0.4 0 0 1, 0 -0.8\n                        `,\n                        \"stroke\": \"none\",\n                        \"fill\": color\n                    })}\n                </g>\n            );\n        }\n    }\n\n    createMaintainEffect() {\n        var { game } = this;\n        var owner = game.players[(game.turn - 1) % game.players.length];\n        var color = owner.badge == \"O\" ? \"crimson\" : \"royalblue\";\n\n        this.gridVisited = [];\n\n        for (var grid of game.board.gridList) {\n            if (!grid.role || grid.role.owner != owner) continue;\n\n            if (grid.role.status[\"relati-launcher\"]) {\n                this.createMaintainPath(grid, owner, game.turn, color);\n            }\n        }\n    }\n\n    createMaintainPath(\n        grid: RelatiGrid,\n        owner: RelatiPlayer,\n        turn: number,\n        color: Color,\n        sourceGrid?: RelatiGrid\n    ) {\n        if (this.gridVisited.indexOf(grid) > -1 || turn < this.gameTurn) return;\n        this.gridVisited.push(grid);\n        this.gameTurn = turn;\n\n        var ruleTraces = RelatiRules.RelatiToTarget.trace({ owner, grid });\n\n        for (let trace of ruleTraces) {\n            if (trace.target == sourceGrid) continue;\n            this.state.background.push(\n                <RelatiPathLine sourceGrid={grid} trace={trace} color={color} key={\n                    `${grid.coordinate}-${trace.routes.map(\n                        grid => grid.coordinate\n                    ).join(\"-\")}-${trace.target.coordinate}`\n                } />\n            );\n\n            setTimeout(function (this: RelatiBoardView) {\n                this.createMaintainPath(\n                    trace.target,\n                    owner,\n                    turn,\n                    color,\n                    grid\n                );\n            }.bind(this), 250);\n        }\n\n        this.forceUpdate();\n    }\n\n    render() {\n        return (\n            <svg width=\"45\" height=\"45\" className=\"relati-board\" onClick={this._onClick.bind(this)}>\n                <g>{this.state.background}</g>\n                <g>{this.state.gridLinePaths.map((path: string, i: number) => (\n                    <path d={path} stroke=\"#888\" strokeWidth=\"0.4\" key={i}></path>\n                ))}</g>\n                <g>{this.state.gridList.map(function (this: RelatiBoardView, grid: RelatiGrid) {\n                    return this.createGridView(grid);\n                }.bind(this))}</g>\n            </svg>\n        );\n    }\n}","import * as React from \"react\";\nimport { RelatiGrid, RelatiRuleTrace } from \"../../relati/Relati\";\n\nexport interface RelatiPathLineProp {\n    sourceGrid: RelatiGrid;\n    trace: RelatiRuleTrace;\n    color: string;\n}\n\nexport class RelatiPathLine extends React.Component<RelatiPathLineProp> {\n    render() {\n        var { trace, sourceGrid, color } = this.props;\n        var targetGrid = trace.target;\n\n        var pathAttr = {\n            \"d\": `M ${sourceGrid.x * 5 + 2.5} ${sourceGrid.y * 5 + 2.5}`,\n            \"strokeWidth\": \"0.5\",\n            \"stroke\": color,\n            \"fill\": \"none\",\n            \"className\": \"relati-path\"\n        };\n\n        for (var grid of trace.routes) {\n            pathAttr[\"d\"] += ` L ${grid.x * 5 + 2.5} ${grid.y * 5 + 2.5}`;\n        }\n\n        pathAttr[\"d\"] += ` L ${targetGrid.x * 5 + 2.5} ${targetGrid.y * 5 + 2.5}`;\n\n        return React.createElement(\"path\", pathAttr);\n    }\n}","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { RelatiGame, RelatiPlayer } from \"../relati/Relati\";\n\nimport { GridBoard } from \"../relati/GridBoard\";\nimport { RelatiBoardView } from \"./RelatiViews/RelatiBoardView\";\n\nvar board = new GridBoard(9, 9);\nvar game = new RelatiGame(board);\n\ngame.players = [\n    new RelatiPlayer(game, \"O\"),\n    new RelatiPlayer(game, \"X\")\n];\n\nvar container = document.getElementById(\"relati-container\");\n\nReactDOM.render(\n    <RelatiBoardView game={game} gridSize={5} />,\n    container\n);\n\nvar relatiBoardView: SVGElement = document.querySelector(\".relati-board\");\n\nfunction resize() {\n    relatiBoardView.style.transform = `scale(${Math.min(\n        container.clientWidth / (board.width * 5),\n        container.clientHeight / (board.height * 5)\n    ) * 0.95})`;\n}\n\nwindow.addEventListener(\"resize\", resize);\nresize();\n\n(window as any).game = game;","module.exports = React;","module.exports = ReactDOM;"],"sourceRoot":""}